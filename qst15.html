<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Questão 15</title>
</head>
<body>
    <main>
        <h1>Resultado da Avaliação</h1>
        <p>
            Olá <span id="nome">Fulano</span>, você está matriculado há <span id="anos">2</span> anos no 
            curso de Confeitaria e as notas das suas disciplinas são: <span id="confeitaria">70</span> 
            em Confeitaria Básica; <span id="coberturas">80</span> em Coberturas e <span id="bolos">60</span> 
            em Broas e Bolos.
        </p>
        <p id="resultado"></p>
        <button id="avaliar">Avaliar</button>
        <button id="limpar">Limpar</button>
        <p id="melhorias"></p>
        <script>
            var nome, anos, confeitaria, coberturas, bolos, botaoAvaliar, botaoLimpar, resultado,
                melhorias, media

            nome = document.getElementById("nome")
            anos = document.getElementById("anos")
            confeitaria = document.getElementById("confeitaria")
            coberturas = document.getElementById("coberturas")
            bolos = document.getElementById("bolos")
            botaoAvaliar = document.getElementById("avaliar")
            botaoLimpar = document.getElementById("limpar")
            resultado = document.getElementById("resultado")
            melhorias = document.getElementById("melhorias")

            nome.contentEditable = true;
            anos.contentEditable = true;
            confeitaria.contentEditable = true;
            coberturas.contentEditable = true;
            bolos.contentEditable = true;

            botaoLimpar.addEventListener("click", limparClick)
            function limparClick(){
                resultado.innerText = ""
                melhorias.innerText = ""
            }

            botaoAvaliar.addEventListener("click", avaliarClick)
            function avaliarClick(){
                var notaConfeitaria = parseFloat(confeitaria.innerText)
                var notaCoberturas = parseFloat(coberturas.innerText)
                var notaBolos = parseFloat(bolos.innerText)
                var txtResultado
                var txtMelhorias = ""
                media = notaConfeitaria + notaCoberturas + notaBolos
                media /= 3
                if(media >= 70){
                    txtResultado = "Parabéns " + nome.innerText + "! Você está aprovado com média "
                                    + media.toFixed(1) + "!"
                } else {
                    txtResultado = "Você está reprovado com média " + media.toFixed(1) + "!"
                }
                resultado.innerText = txtResultado
                if(notaConfeitaria < 60)
                    txtMelhorias += nome.innerText + ", considere estudar mais Confeitaria!\n"

                if(notaCoberturas < 60)
                    txtMelhorias += nome.innerText + ", considere estudar mais Coberturas!\n"
                
                if(notaBolos < 60)
                    txtMelhorias += nome.innerText + ", considere estudar mais Broas e Bolos!"

                melhorias.innerText = txtMelhorias
            }       
        </script>
    </main>

</body>
</html>